<script>
document.addEventListener("DOMContentLoaded", async function() {
    let photos = [];

    try {
        // Try to load from Postimages via CORS proxy
        const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
        const targetUrl = 'https://postimg.cc/gallery/mhmPLYx';

        const response = await fetch(proxyUrl + targetUrl);
        const html = await response.text();

        // Extract image URLs from HTML
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        const imageElements = tempDiv.querySelectorAll('img');

        photos = Array.from(imageElements)
            .map(img => img.src)
            .filter(src => src.includes('i.postimg.cc'))
            .map(src => src.replace('/th/', '/'));

        console.log('Auto-loaded', photos.length, 'images');
    } catch (error) {
        console.log('Auto-load failed, using manual photos.js');
        if (typeof photos !== 'undefined') {
            photos = window.photos;
        }
    }

    // Continue with your existing gallery code...
    if (photos.length === 0) {
        document.getElementById('imageGallery').innerHTML =
            '<p>No images found. Please update photos.js manually.</p>';
        return;
    }

    // Your existing gallery initialization code here...
    let currentIndex = 0;
    const imagesPerLoad = 30;
    // ... rest of your code
});
</script>
